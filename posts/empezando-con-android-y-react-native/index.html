<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Empezando con Android y React-Native | BITSON's Blog</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#236ab7">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../rss.xml">
<link rel="canonical" href="http://blog.bitson.com.ar/posts/empezando-con-android-y-react-native/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="D">
<link rel="prev" href="../evitando-las-malas-practicas/" title="Evitando las malas prácticas en Python" type="text/html">
<link rel="next" href="../empezando-a-usar-google-adwords-express/" title="Empezando a usar Google AdWords Express" type="text/html">
<meta property="og:site_name" content="BITSON's Blog">
<meta property="og:title" content="Empezando con Android y React-Native">
<meta property="og:url" content="http://blog.bitson.com.ar/posts/empezando-con-android-y-react-native/">
<meta property="og:description" content="En este post vamos a configurar el ambiente en linux para empezar a programar aplicaciones
en react-native para android (iOS queda fuera por razones obvias :grimacing:)
Requisitos:

Internet (claramen">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2018-02-27T18:43:18-03:00">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Ir al contenido principal</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Mostrar navegación</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://blog.bitson.com.ar/">

                <span id="blog-title">BITSON's Blog</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Archivo</a>
                </li>
<li>
<a href="../../categories/">Etiquetas</a>
                </li>
<li>
<a href="../../rss.xml">Canal RSS</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<li>
    <a href="index.md" id="sourcelink">Código fuente</a>
    </li>

                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Empezando con Android y React-Native</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                    <a href="../../authors/d/">D</a>
            </span></p>
            <p class="dateline"><a href="." rel="bookmark"><time class="published dt-published" datetime="2018-02-27T18:43:18-03:00" itemprop="datePublished" title="2018-02-27 18:43">2018-02-27 18:43</time></a></p>
                <p class="commentline">
        
    <a href="#disqus_thread" data-disqus-identifier="cache/posts/empezando-con-android-y-react-native.html">Comments</a>


            
        </p>
<p class="sourceline"><a href="index.md" class="sourcelink">Código fuente</a></p>

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<p>En este post vamos a configurar el ambiente en linux para empezar a programar aplicaciones
en react-native para android (iOS queda fuera por razones obvias :grimacing:)</p>
<h3>Requisitos:</h3>
<ul>
<li>Internet (claramente).</li>
<li>Conocimientos minimos sobre variables de entorno (como setearlas).</li>
<li>Paciencia.</li>
</ul>
<h3>1: Instalar Java</h3>
<ul>
<li>Abrimos la terminal e instalamos java (version 8).</li>
</ul>
<pre class="code literal-block"><span></span>sudo apt-get update
sudo apt-get install openjdk-8-jdk
</pre>


<p>Una vez finalizado de instalar ejecutamos</p>
<p><code>java -version</code></p>
<p>Para ver si instalo correctamente y deberiamos ver algo similar a esto</p>
<pre class="code literal-block"><span></span>openjdk version "1.8.0_151"
OpenJDK Runtime Environment (build 1.8.0_151-8u151-b12-1~deb9u1-b12)
OpenJDK 64-Bit Server VM (build 25.151-b12, mixed mode)
</pre>


<h3>2: Descargar e Instalar Android Studio</h3>
<p>Paso simple vamos a este <a href="https://developer.android.com/studio/index.html?hl=es-419">link</a> y descargamos
Android Studio (for linux).
Una vez que lo bajamos, extraemos la carpeta en <code>/opt/</code> y dentro de la carpeta <code>android-studio</code> ejecutamos el archivo <code>studio.sh</code>.</p>
<p>Seleccionar la opcion que queramos si queremos importar configuraciones de instalaciones previas de Android Studio o no, click en OK.</p>
<p>Aca es donde deciamos que habia que tener paciencia, el wizard de instalacion de Android Studio te va a guiar el resto del proceso, el cual incluye la descarga del SDK (Software Development Kit), componentes que son necesarios para el desarrollo de apps. Parece que se va a trabar pero simplemente hay que esperar a que baje todos los archivos, va a depender mucho de tu velocidad de internet.</p>
<h3>2.1: Librerias para PCs de 64-bit</h3>
<p>Si tenes una pc con un SO de 64-bits tenes que instalarte estas librerias para poder trabajar.</p>
<pre class="code literal-block"><span></span>sudo apt-get install libc6:i386 libncurses5:i386 libstdc++6:i386 lib32z1 libbz2-1.0:i386
</pre>


<h3>3: Descarga version de SDK en AS</h3>
<p>Abrimos el android studio, creamos un proyecto (esto es obligatorio, pero no le den demasiada importancia no vamos a usarlo). Dejamos trabajar al IDE y en la consola vemos que nos va a pedir de updatar <code>gradle</code>, hacemos click e instalamos. Una vez terminado de instalar, vamos a <code>Tools &gt; Android &gt; SDK Manager</code> ahi vamos a seleccionar la version de Android con la que queremos trabajar (yo elijo la version 6 uds pueden elegir la que quieran). Despues vamos a la tab <code>SDK Tools</code> y nos fijamos que esten chequeadas las opciones <code>Android SDK Tools</code> y <code>Android SDK Platform-Tools</code> de no estarlas las chequeamos, e instalamos ambas o la que falte.</p>
<h3>4: Variables de entorno</h3>
<p>Vamos a setear las variables de entorno para "decirle" al sistema donde ir a buscar las SDK-Tools.
Abrimos la terminal y escribimos:</p>
<pre class="code literal-block"><span></span>export ANDROID_HOME=$HOME/Android/Sdk
export PATH=$PATH:$ANDROID_HOME/tools
export PATH=$PATH:$ANDROID_HOME/platform-tools
</pre>


<p>Si queres que queden fijas en la terminal modifica tu archivo <code>~/.bashrc</code> agregando esas 3 lineas al final y reiniciando la consola.
Para testear si expusimos bien las variables en una terminal ejecutamos el comando</p>
<p><code>adb --version</code></p>
<p>El comando adb es una herramienta dentro de los SDK-Tools simplemente vamos a ver si encuentra ese archivo pidiendole la version, la salida deberia verse parecida a esta:</p>
<pre class="code literal-block"><span></span>Android Debug Bridge version 1.0.39
Version 0.0.1-4500957
Installed as /home/{USER}/Android/Sdk/platform-tools/adb
</pre>


<h3>5: Android Virtual Device Manager</h3>
<p>El Android Studio cuenta con un emulador de android que podemos ejecutar en la PC, muy util para desarrollar y debuguear. Dentro del AS vamos a <code>Tools &gt; Android &gt; AVD Manager</code> y cliqueamos <code>Create Virtual Device</code> esto va a crear un nuevo emulador, seleccionan el tipo de dispositivo que quieren, la version de Android (instalada previamente en el paso 3). Una vez creada van a ver en la lista de dispositivos que se encuentra el suyo y a la derecha dentro de la columna <code>Actions</code> hay un boton de play que les permite ejecutarla.</p>
<h3>5.1: Detalle sobre AVD</h3>
<p>El emulador consume mucha RAM, lo cual va a ser que se realentice el proceso de buildear y de ejecutar la aplicacion, tambien presenta problemas en placas de video. Por ejemplo yo tengo una placa nVidia y para poder correr el AVD en mi maquina tuve que instalarme los drivers de linux de lo contrario el emulador abria y cerraba automaticamente. Les dejo el <a href="https://wiki.debian.org/es/NvidiaGraphicsDrivers">link</a> para instalar los drivers de nVidia en debian, para los drivers de otras placas de video consulten con nuestro buen amigo google.</p>
<h3>6: Node.js &amp; npm</h3>
<p>Ya tenemos instalado y corriendo nuestro emulador de android en nuestra pc ahora bien la pregunta del millon...Como arrancamos a programar?
Simple, tenemos que bajarnos (para variar) <code>nodejs</code> y <code>npm</code>, son programas que nos van a permitir compilar nuestro codigo en JS y ejecutarlo como si fuera nativo, manos a la obra!
Para node vamos a la terminal de linux y ejecutamos:</p>
<pre class="code literal-block"><span></span>curl -sL https://deb.nodesource.com/setup_9.x | sudo -E bash -
sudo apt-get install -y nodejs
</pre>


<p>Eso basta para tener <code>node</code> y <code>npm</code> (node package manager) instalados en tu PC, para comprobarlo hacemos
<code>node -v &amp;&amp; npm -v</code></p>
<p>La salida deberia ser similar a:</p>
<pre class="code literal-block"><span></span>v6.13.0
3.10.10
</pre>


<h3>7: create-react-native-app</h3>
<p>Muy bien, continuando con nuestro brevisimo post, en la terminal hacemos un <code>sudo npm i -g create-react-native-app</code> lo cual va a instalar un paquete de node de forma global (por eso sudo y por eso -g), para facilitarnos la creacion desde 0 de un proyecto en react native, dejo el <a href="https://github.com/react-community/create-react-native-app">link</a> para que puedan ver el readme e interiorizarse mas si quieren.</p>
<h3>8: Ejecucion</h3>
<p>Una vez instalado el paquete vamos al destino donde querramos instalar el proyecto y en una terminal hacemos <code>create-react-native-app rn-app</code> eso nos va a crear una app llamada rn-app (uds le pueden poner el nombre que quieran). Va a tardar un rato (otra vez), pero una vez que termine ya estamos listos para trabajar. Entramos a la carpeta <code>cd rn-app</code> y ejecutamos <code>npm start</code> en una consola y en otra <code>npm run android</code> si tenemos el emulador abierto la aplicacion se va a ejecutar en el mismo, sino va a fallar y salir.</p>
<h3>8.1: Ejecucion en dispositivo</h3>
<p>Para este paso vamos a necesitar un cable usb y un celular (con android obviamente).
Vamos a habilitar el debug con USB en el celular, para eso hay que tener las opciones de desarrollador activadas, eso lo hacemos yendo a <code>Configuracion &gt; Acerca de</code> y cliqueamos el numero de build 7 veces, despues volvemos a configuracion y vamos a tener las <code>Opciones de Desarrollador</code>, entramos y habilitamos el "Debug por USB".</p>
<p>Enchufamos el celular a la computadora y seleccionamos la opcion de transferir fotos via PTP.</p>
<p>En la terminal ejecutamos <code>lsusb</code> y obtenemos algo similar a esto:</p>
<pre class="code literal-block"><span></span>Bus 002 Device 007: ID 1004:631d LG Electronics, Inc. Optimus Android Phone (Camera/PTP Mode)
Bus 002 Device 003: ID 1a81:1006 Holtek Semiconductor, Inc.
Bus 002 Device 002: ID 8087:0020 Intel Corp. Integrated Rate Matching Hub
Bus 002 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
Bus 001 Device 003: ID 04f2:b1d6 Chicony Electronics Co., Ltd CNF9055 Toshiba Webcam
Bus 001 Device 002: ID 8087:0020 Intel Corp. Integrated Rate Matching Hub
Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
</pre>


<p>Esta claro que mi celular es:</p>
<p><code>ID 1004:631d LG Electronics, Inc. Optimus Android Phone (Camera/PTP Mode)</code></p>
<p>De la linea de arriba agarramos los primeros 4 digitos del dispositivo:</p>
<p><code>1004:631d</code></p>
<p>En este caso <code>1004</code> es el identificador para LG.</p>
<p>Ingresamos lo siguiente en la consola:</p>
<pre class="code literal-block"><span></span>echo SUBSYSTEM=="usb", ATTR{idVendor}=="22b8", MODE="0666", GROUP="plugdev" | sudo tee /etc/udev/rules.d/51-android-usb.rules
</pre>


<p>Por ultimo hacemos un check para ver si el adb lo detecta en la consola:</p>
<p><code>adb devices</code></p>
<p>Y deberiamos ver algo similar (depende del dispositivo que tengan)</p>
<pre class="code literal-block"><span></span>List of devices attached
LGD62093133844  device
</pre>


<p>Ahora puden hacer en la carpeta de su <code>rn-app</code> <code>npm run android</code> y la aplicacion se va a abrir en su celular. COPADO!</p>
<hr>
<p>Gracias por leer, cualquier consulta la pueden dejar escrita en el blog y la contestamos.</p>
<p>Saludos,</p>
<p>D.</p>
<p></p>
<hr>
Fuentes y ayudas:
<ul>
<li><a href="https://source.android.com/setup/initializing">Establishing a build enviorment</a></li>
<li><a href="https://developer.android.com/studio/install.html">Install android studio</a></li>
<li><a href="https://stackoverflow.com/questions/26256279/how-to-set-android-home-path-in-ubuntu-please-provide-the-steps">Este link de stackoferflow</a></li>
<li><a href="https://nodejs.org/es/download/package-manager/#distribuciones-de-linux-basadas-en-debian-y-ubuntu">Instalar node</a></li>
</ul>
</div>
    </div>
    <aside class="postpromonav"><nav><ul class="pager hidden-print">
<li class="previous">
                <a href="../evitando-las-malas-practicas/" rel="prev" title="Evitando las malas prácticas en Python">Publicación anterior</a>
            </li>
            <li class="next">
                <a href="../empezando-a-usar-google-adwords-express/" rel="next" title="Empezando a usar Google AdWords Express">Siguiente publicación</a>
            </li>
        </ul></nav></aside><section class="comments hidden-print"><h2>Comentarios</h2>
        
        
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="blog-bitson",
            disqus_url="http://blog.bitson.com.ar/posts/empezando-con-android-y-react-native/",
        disqus_title="Empezando con Android y React-Native",
        disqus_identifier="cache/posts/empezando-con-android-y-react-native.html",
        disqus_config = function () {
            this.language = "es_ES";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section></article><script>var disqus_shortname="blog-bitson";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2018         <a href="mailto:info@bitson.com.ar">Cooperativa de Trabajo BITSON Ltda.</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><script src="../../assets/js/colorbox-i18n/jquery.colorbox-es.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("es");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates -->
</body>
</html>
